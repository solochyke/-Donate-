<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Feed a Child Today</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
</head>
<body class="bg-gray-100 text-gray-900 font-sans">

  <!-- Hero -->
  <section class="relative bg-cover bg-center h-[70vh] flex items-center justify-center" 
           style="background-image: url('https://images.unsplash.com/photo-1600891965051-f7e94c40b07a?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80');">
    <div class="bg-black bg-opacity-60 absolute inset-0"></div>
    <div class="relative z-10 text-center px-6">
      <h1 class="text-4xl md:text-6xl font-extrabold text-white mb-6">
        Right Now, Children Are Going to Bed Hungry
      </h1>
      <p class="text-lg md:text-xl text-gray-200 max-w-2xl mx-auto mb-8">
        Sam, 7 years old, hasnâ€™t eaten since breakfast. Tonight, millions of children will face the same fate. 
        Your single donation can put food on their plate, hope in their heart, and a smile on their face.
      </p>
      <button id="donateBtn" 
              class="bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-8 rounded-lg shadow-lg text-lg transition">
        Give a Meal Tonight
      </button>
    </div>
  </section>

  <!-- Impact Counters -->
  <section class="py-16 bg-white text-center">
    <h2 class="text-3xl font-bold mb-10">Your Impact in Numbers</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-10 max-w-4xl mx-auto">
      <div>
        <span class="counter text-5xl font-extrabold text-red-600" data-type="meals">12,540</span>
        <p class="mt-2 text-gray-600">Meals Served Today</p>
      </div>
      <div>
        <span class="counter text-5xl font-extrabold text-red-600" data-type="children">4,320</span>
        <p class="mt-2 text-gray-600">Children Fed This Week</p>
      </div>
      <div>
        <span class="counter text-5xl font-extrabold text-red-600" data-type="communities">27</span>
        <p class="mt-2 text-gray-600">Communities Reached</p>
      </div>
    </div>
  </section>

  <!-- Modal -->
  <div id="donationModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 transition-opacity duration-300">
    <div id="modalBox" 
         class="bg-white rounded-xl shadow-lg max-w-md w-full p-6 text-center relative transform transition-all duration-300 scale-95 opacity-0 translate-y-6">

      <!-- Close -->
      <button id="closeModal" class="absolute top-2 right-2 text-gray-500 hover:text-black text-2xl">&times;</button>

      <!-- Donation content -->
      <div id="donationContent">
        <h3 class="text-2xl font-bold mb-4 text-red-600">Make Your Donation</h3>
        <p class="mb-4 text-gray-700">Scan the QR code or copy the wallet address below:</p>

        <!-- QR Code -->
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=bc1p7hp9e0yscn4mg65rdmwj72c2zdm" 
             alt="Crypto Wallet QR" class="mx-auto mb-4">

        <!-- Wallet Address -->
        <div class="bg-gray-100 p-3 rounded-lg mb-4 break-words">
          <code id="walletAddress" class="text-gray-800">bc1p7hp9e0yscn4mg65rdmwj72c2zdm</code>
        </div>

        <button id="copyBtn" 
          class="bg-yellow-400 hover:bg-yellow-500 text-black font-semibold py-2 px-6 rounded-lg shadow transition">
          Copy Address
        </button>
      </div>

      <!-- Thank You content -->
      <div id="thankYouContent" class="hidden">
        <img src="https://images.unsplash.com/photo-1587502536263-3c74b5f635c2?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
             alt="Child smiling after meal" class="rounded-lg shadow-md mb-4 w-full h-48 object-cover">
        <h3 class="text-2xl font-bold mb-4 text-green-600">Thank You ðŸ’›</h3>
        <p class="mb-6 text-gray-700">
          Because of your generosity, a child just received a warm meal tonight.  
          Together, weâ€™re proving that kindness can end hunger.
        </p>
        <button id="closeThankYou" 
          class="bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-6 rounded-lg shadow transition">
          Close
        </button>
      </div>
    </div>
  </div>

  <script>
    // Donation bump logic
    function donationBump() {
      const counters = document.querySelectorAll('.counter');
      counters.forEach(counter => {
        let current = +counter.dataset.current || +counter.innerText.replace(/,/g, "");
        let bump = 0;

        if (counter.dataset.type === "meals") {
          bump = Math.floor(Math.random() * 50) + 30;
        } else if (counter.dataset.type === "children") {
          bump = Math.floor(Math.random() * 15) + 5;
        } else if (counter.dataset.type === "communities") {
          bump = Math.random() < 0.5 ? 1 : 0;
        }

        current += bump;
        counter.dataset.current = current;
        counter.innerText = current.toLocaleString();
      });
    }

    // Modal logic
    const modal = document.getElementById("donationModal");
    const modalBox = document.getElementById("modalBox");
    const donateBtn = document.getElementById("donateBtn");
    const closeModal = document.getElementById("closeModal");
    const donationContent = document.getElementById("donationContent");
    const thankYouContent = document.getElementById("thankYouContent");
    const copyBtn = document.getElementById("copyBtn");
    const closeThankYou = document.getElementById("closeThankYou");
    const walletAddress = document.getElementById("walletAddress").innerText;

    // Open modal
    donateBtn.addEventListener("click", () => {
      donationBump();
      modal.classList.remove("hidden");
      setTimeout(() => {
        modalBox.classList.remove("opacity-0", "translate-y-6", "scale-95");
        modalBox.classList.add("opacity-100", "translate-y-0", "scale-100");
      }, 50);
    });

    // Close modal
    function closeModalAction() {
      modalBox.classList.remove("opacity-100", "translate-y-0", "scale-100");
      modalBox.classList.add("opacity-0", "translate-y-6", "scale-95");
      setTimeout(() => {
        modal.classList.add("hidden");
        thankYouContent.classList.add("hidden");
        donationContent.classList.remove("hidden");
      }, 300);
    }

    closeModal.addEventListener("click", closeModalAction);
    closeThankYou.addEventListener("click", closeModalAction);

    // Copy wallet + thank you screen with confetti
    copyBtn.addEventListener("click", () => {
      navigator.clipboard.writeText(walletAddress).then(() => {
        donationContent.classList.add("hidden");
        thankYouContent.classList.remove("hidden");

        // Confetti burst
        const duration = 2 * 1000;
        const end = Date.now() + duration;

        (function frame() {
          confetti({
            particleCount: 4,
            angle: 60,
            spread: 55,
            origin: { x: 0 }
          });
          confetti({
            particleCount: 4,
            angle: 120,
            spread: 55,
            origin: { x: 1 }
          });

          if (Date.now() < end) {
            requestAnimationFrame(frame);
          }
        })();
      });
    });
  </script>

</body>
        </html>
